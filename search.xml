<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Sql Server 基础篇(二)</title>
      <link href="2020/10/18/Sql-Server-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-%E4%BA%8C/"/>
      <url>2020/10/18/Sql-Server-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-%E4%BA%8C/</url>
      
        <content type="html"><![CDATA[<blockquote><p>数据完整性</p><p>代码实现</p></blockquote><h3 id="一-数据完整性"><a href="#一-数据完整性" class="headerlink" title="一.数据完整性"></a>一.数据完整性</h3><h5 id="1-实体完整性"><a href="#1-实体完整性" class="headerlink" title="1.实体完整性"></a>1.实体完整性</h5><p>1.1实体：表的每一行数据称为一个实体</p><p>1.2实体完整性：每一行记录值唯一的、不重复的</p><p>1.3实体完整性包含标识列、主键和唯一键</p><pre><code class="tiki">标识列：系统自动生成，永远不会重复主键：非空唯一键：唯一，但可以为null(只能空一次)  编辑器中设置方式：右键--&gt;索引/键--&gt;添加--&gt;修改名称、修改类型、确定字段</code></pre><h5 id="2-域完整性"><a href="#2-域完整性" class="headerlink" title="2.域完整性"></a>2.域完整性</h5><p>2.1域：字段</p><p>2.2域完整性：为了保证字段的值是否合理和准确</p><p>2.3域完整性包含非空、类型、check约束、默认值、关系（主外键）</p><h5 id="3-自定义完整性"><a href="#3-自定义完整性" class="headerlink" title="3.自定义完整性"></a>3.自定义完整性</h5><p>3.1自定义完整性：用户用自己定义的约束规则</p><p>3.2自定义完整性包含check约束、存储过程、触发器</p><h5 id="4-引用完整性"><a href="#4-引用完整性" class="headerlink" title="4.引用完整性"></a>4.引用完整性</h5><p>4.1引用完整性：一个表的某个字段的值引用自另外一个表的某一个字段，被引用的表称为主表，引用表称为从表或者外键表</p><p>4.1.1 选择外键表去创建主外键关系</p><p>4.1.2建立主外键关系的字段类型和意义必需一致</p><p>4.1.3建立关系的字段主表中必须是主键或者唯一键</p><p>4.1.4添加数据的时候先添加主表数据再添加外键表</p><p>4.1.5删除数据的时候先删除外键表数据再删除主表数据</p><h5 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h5><p>关系建立的表的级联操作：</p><p>1.不执行任何操作：该报错就报错，能删除就删除</p><p>2.级联：删除主表记录，对应的从表记录也将被删除</p><p>3.set null：删除主表，从表对应记录的字段值=null ,前提是这个字段可以设置为null</p><p>4.set default:删除主表，从表对应记录的字段值=设置的默认值，前提是这个字段已经设置默认值了</p><h3 id="二-代码实现"><a href="#二-代码实现" class="headerlink" title="二.代码实现"></a>二.代码实现</h3><h5 id="1-创建约束的种类："><a href="#1-创建约束的种类：" class="headerlink" title="1.创建约束的种类："></a>1.创建约束的种类：</h5><pre><code class="mysql">主键约束（primary key (PK)）唯一键约束（unique (UQ)）检查约束（check (CK)）默认值约束（default (DF)）外键约束(foregin key (FK))</code></pre><h5 id="2-创建约束的语法"><a href="#2-创建约束的语法" class="headerlink" title="2.创建约束的语法"></a>2.创建约束的语法</h5><pre><code class="mysql">alter table 表名add constraint 约束名称（以简写作为前缀） 约束的说明（字段）</code></pre><pre><code class="mysql">1.将id设置为主键alter table Teacheradd constraint PK_Teacher_id primary key（id）2.设置name为唯一键 (因为唯一键只能执行一次，所以下次执行要删除上次的信息)if exists(select * from sysobjects where name=&#39;UQ_Teacher_Name&#39;)alter table teacher drop constraint UQ_Teacher_Namealter table Teacheradd constraint UQ_Teacher_Name unique(name)3.设置年龄再0~100之间alter table Teacheradd constraint CK_Teacher_Age check(age&gt;0 and age&lt;=100)4为Birthday添加默认值约束alter table Teachre                      --for 指说明为哪一个字段添加默认值add constraint DF_Teacher_Birthday default(&#39;2020-01-01&#39;) for Birthday5.为classid添加外键约束(级联)alter table Teacher  --从表的某一个字段引用主表的某一个字段add constraint FK_Teacher_classid foreign key(classid) references classes(cid)</code></pre><pre><code>删除级联if exists(select * from sysobjects where name=&#39;FK_Teacher_Name&#39;)alter table teacher drop constraint FK_Teacher_Namewith nocheck  --不检查现有输出add constraint FK_Teacher_classid foreign key(classid) reference classes(cid)on delete set null  (前提是该属性有空值)</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> sql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sql Server 基础篇(一)</title>
      <link href="2020/10/18/Sql-Server-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-%E4%B8%80/"/>
      <url>2020/10/18/Sql-Server-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-%E4%B8%80/</url>
      
        <content type="html"><![CDATA[<blockquote><p>创建数据库</p><p>创建数据表</p></blockquote><h3 id="一-创建数据库"><a href="#一-创建数据库" class="headerlink" title="一.创建数据库"></a>一.创建数据库</h3><h5 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h5><pre><code class="mysql">create database 数据库名称on primary --在哪个文件组上创建，默认在文件组上创建（主数据文件）( --当它不是可以独立执行的sql命令的时候，同时它是某个结构中的某一句，就需添加 name=&#39;逻辑名称_data&#39;,   --逻辑名称一般会有一个后缀，数据文件--data,日志文件--log size=初始大小,   --数值不应该包含在‘ ’以内 filegrowth=增长方式,  --也不能添加包含在‘ ’以内 maxsize=最大容量， filename=&#39;全路径名&#39;  --最后依据不添加逗号,扩展名.mdf)log on   --日志文件(--当它不是可以独立执行的sql命令的时候，同时它是某个结构中的某一句，就需添加 name=&#39;逻辑名称_log&#39;,   --逻辑名称一般会有一个后缀，数据文件--data,日志文件--log size=初始大小,   --数值不应该包含在‘ ’以内 filegrowth=增长方式,  --也不能添加包含在‘ ’以内 maxsize=最大容量， filename=&#39;全路径名&#39;  --最后依据不添加逗号,扩展名.ldf)</code></pre><h5 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h5><ul><li>创建数据库TestSchool</li></ul><pre><code class="mysql">create database TestSchoolon primary  --primary  可以省略(    name=&#39;TestSchool_data&#39;,    size=3mb,    filegrowth=10%,    maxsize=100mb,    filename=&#39;D:\SQL\test\TestSchool_data.mdf&#39;)log on(    name=&#39;TestSchool_log&#39;,    size=3mb,    filegrowth=50%,    maxsize=100mb,   --日志文件一般不限制最大容量    filename=&#39;D:\SQL\test\TestSchool_log.ldf&#39;)</code></pre><h5 id="删除创建的数据库"><a href="#删除创建的数据库" class="headerlink" title="删除创建的数据库"></a>删除创建的数据库</h5><p>数据库的执行只有一次，如果想再次执行则需将上次的数据库删除</p><pre><code class="mysql">--先判断数据库是否存在，如果存在则删除--将当前数据库切换到masteruse master   -- master数据库里有一个文件，sysdatabases存储所有的数据库if exists (select * from sysdatabases where name=&#39;TestSchool&#39;)  在sysdatabases中查询是否存在TestSchool--删除数据库drop database TestSchoolgo  --表示上面的任务已执行完，进入下面的任务</code></pre><h5 id="自定义路径（自动创建文件夹）"><a href="#自定义路径（自动创建文件夹）" class="headerlink" title="自定义路径（自动创建文件夹）"></a>自定义路径（自动创建文件夹）</h5><pre><code class="mysql">--自动创建文件夹--开启外围应用配置管理器和xp_cmdsellexecute sp_configure&#39;show advanced options&#39;,1   -- 1 开启，0 关闭RECONFIGURE   --重新设置execute sp_configure &#39;xp_cmdshell&#39;,1RECONFIGURE   --重新设置go --xp-cmdshell,让其帮助我们创建一个文件夹 &#39;D:\SQL\test&#39;execute xp_cmdshell&#39;mkdir D:\SQL\test&#39;</code></pre><h5 id="实例–创建多个数据库"><a href="#实例–创建多个数据库" class="headerlink" title="实例–创建多个数据库"></a>实例–创建多个数据库</h5><pre><code class="mysql">------------------------------判断--------------------------------先判断数据库是否存在，如果存在则删除--将当前数据库切换到masteruse master   -- master数据库里有一个文件，sysdatabases存储所有的数据库if exists (select * from sysdatabases where name=&#39;TestSchool&#39;)  在sysdatabases中查询是否存在TestSchool--删除数据库drop database TestSchoolgo  --表示上面的任务已执行完，进入下面的任务---------------------------自定义路径------------------------------自动创建文件夹--开启外围应用配置管理器和xp_cmdsellexecute sp_configure&#39;show advanced options&#39;,1   RECONFIGURE   --重新设置execute sp_configure &#39;xp_cmdshell&#39;,1RECONFIGURE   --重新设置go --xp-cmdshell,让其帮助我们创建一个文件夹 &#39;d:\SQL\test&#39;execute xp_cmdshell&#39;mkdir d:\SQL\test&#39;---------------------------创建数据库-----------------------------create database TestSchoolon primary  --primary  可以省略(    name=&#39;TestSchool_data&#39;,    size=3mb,    filegrowth=10%,    maxsize=100mb,    filename=&#39;D:\SQL\test\TestSchool_data.mdf&#39;)，   --创建多个要加 逗号--不同的数据文件可以放入不同的数据组中,这时全路径可以改成新文件的路径filegroup userDe(    name=&#39;TestSchool_data1&#39;,    size=3mb,    filegrowth=10%,    maxsize=100mb,    filename=&#39;D:\aa\TestSchool_data1.ndf&#39;  --次数据文件，这里写成ndf)log on(    name=&#39;TestSchool_log&#39;,    size=3mb,    filegrowth=50%,    maxsize=100mb,   --日志文件一般不限制最大容量    filename=&#39;D:\SQL\test\TestSchool_log.ldf&#39;)，(    name=&#39;TestSchool_log1&#39;,    size=3Mb,    filegrowth=50%,    maxsize=100mb,   --日志文件一般不限制最大容量    filename=&#39;D:\SQL\test\TestSchool_log1.ndf&#39;  --次数据文件，这里写成ndf)</code></pre><h3 id="二-创建数据表"><a href="#二-创建数据表" class="headerlink" title="二.创建数据表"></a>二.创建数据表</h3><h5 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h5><pre><code class="mysql">create table 表名(    字段名称 字段类型 字段特征（是否非空 标识列 默认值 主键 唯一键 check约束）,    字段名称 字段类型 字段特征（是否非空 标识列 默认值 主键 唯一键 check约束）)</code></pre><h5 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h5><ul><li>创建老师表Teacher</li><li>Id、Name、Gender、Age、Salary、Birthday</li></ul><pre><code class="mysql">--切换到数据库中use TestSchool--判断是否存在table，有的话删除，以便多次执行if exists(select * from sysobjects where name=&#39;Teacher&#39;)drop table Teachercreate table Teacher(    Id int identity(1,1) primary key(作主键)   --设置标识列identity(表示种子，标识增量)    Name nvarchar not null, --not null标记字段不能null    Gender bit not null,     Age int check(age&gt;0 and age &lt;=100) --约束年龄在0~100    Salary money, --当一个字段可以为空时，可以写也可以不写null    Birthday datetime not null default(&#39;2009-01-01&#39;)  --dafault设置默认值，也可以不设置)</code></pre><h5 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h5><pre><code class="mysql">----------------判断数据库是否存在，存在则删除----------------------use masterif exists(select * from sysdatabases where name=&#39;TestSchool&#39;)drop database TestSchoolgo---------------------------自定义路径------------------------------自动创建文件夹--开启外围应用配置管理器和xp_cmdsellexecute sp_configure&#39;show advanced options&#39;,1RECONFIGUREexecute sp_configure&#39;xp_cmdshell&#39;,1RECONFIGUREgo--创建文件夹  D:\Sql_Test\Testexecute xp_cmdshell &#39;mkdir D:\Sql_Test\Test&#39;-----------------------------创建数据库---------------------------create database TestSchoolon(name=&#39;TestSchool_data&#39;,size=3mb,filegrowth=10%,maxsize=100mb,filename=&#39;D:\Sql_Test\Test\TestSchool_data.mdf&#39;)log on(name=&#39;TestSchool_log&#39;,size=1mb,filegrowth=10%,maxsize=100mb,filename=&#39;D:\Sql_Test\Test\TestSchool_log.ldf&#39;)go----------------------判断数据表是否存在，存在则删除------------------if exists(select * from sysobjects where name=&#39;Teacher&#39;)drop table Teachergo----------------------创建数据表-----------------------------------use TestSchoolcreate table Teacher(id int identity(1,1) primary key,Name nvarchar not null,Gender bit not null,Age int check(age &gt; 0 and age &lt; 100),Salary money,Birthday datetime not null default(&#39;2010-01-01&#39;))</code></pre><p><img src="/2020/10/18/Sql-Server-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8-%E4%B8%80/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-10-18%20154917.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> Sql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hadoop系统基本运维</title>
      <link href="2020/10/17/Hadoop%E7%B3%BB%E7%BB%9F%E5%9F%BA%E6%9C%AC%E8%BF%90%E7%BB%B4/"/>
      <url>2020/10/17/Hadoop%E7%B3%BB%E7%BB%9F%E5%9F%BA%E6%9C%AC%E8%BF%90%E7%BB%B4/</url>
      
        <content type="html"><![CDATA[<blockquote><p>Zookeeper的管理</p><p>Hadoop的管理</p><p>Hbase的管理</p></blockquote><h3 id="一-Zookeeper的管理"><a href="#一-Zookeeper的管理" class="headerlink" title="一.Zookeeper的管理"></a>一.Zookeeper的管理</h3><h5 id="1-Zookeeper基本命令"><a href="#1-Zookeeper基本命令" class="headerlink" title="1.Zookeeper基本命令"></a>1.Zookeeper基本命令</h5><pre><code class="tex">启动ZK服务：zkServer.sh start查看ZK服务：ZkServer.sh status停止ZK服务：zkServer.sh stop重启ZK服务：zkServer.sh restart连接服务器：zkCli.sh -server Hostname&amp;IP:2181</code></pre><h5 id="2-Zookeeper的操作界面"><a href="#2-Zookeeper的操作界面" class="headerlink" title="2.Zookeeper的操作界面"></a>2.Zookeeper的操作界面</h5><pre><code class="tex">help --查看帮助ls --查看某个目录包含的所有文件ls2 --查看某个目录包含的所有文件，与ls不同的是它查看到time、version等信息create --创建znode,并设置初始内容   例：create /test &#39;test&#39; 创建一个新的znode节点，‘test’以及与它关联的字符串get --获取znode的数据delete --删除znodequit --退出客户端</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> hadoop hbase zookeeper </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>虚拟化技术</title>
      <link href="2020/10/15/%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF-VMware-Workstation-Pro/"/>
      <url>2020/10/15/%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF-VMware-Workstation-Pro/</url>
      
        <content type="html"><![CDATA[<h3 id="一-虚拟机中三台主机不同网段的通信"><a href="#一-虚拟机中三台主机不同网段的通信" class="headerlink" title="一.虚拟机中三台主机不同网段的通信"></a>一.虚拟机中三台主机不同网段的通信</h3><pre><code class="tex">题目：有三台主机：A、B、C，实现A与B通，A与C通，B与C不通实现方法：HostA用两张网卡，HostB和HostC分别用HostA中的网卡</code></pre><pre><code class="tex">步骤:1.添加和设置网卡设置不同网段可通过修改DHCP(先修改子网Ip，再修改DHCP，修改起始网段)这里添加了两张网卡--Vmnet2和Vmnet3,并将网段修改位192.168.100.0，192.169.200.0</code></pre><p><img src="/2020/10/15/%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF-VMware-Workstation-Pro/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-10-15%20155807.png"></p><pre><code class="tex">2.配置网卡给HostA主机配置Vmnet2和Vmnet3(设置里配置)给HostB主机配置Vmnet2给HostC主机配置Vmnet3注意：HostB和HostC主机里不能有NET模式的网卡，否则HostB和HostC就能实现通信</code></pre><p><img src="/2020/10/15/%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF-VMware-Workstation-Pro/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-10-15%20155151.png"></p><p><img src="/2020/10/15/%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF-VMware-Workstation-Pro/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-10-15%20155446.png"></p><p><img src="/2020/10/15/%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF-VMware-Workstation-Pro/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-10-15%20155333.png"></p><pre><code class="tex">3.将三台主机的防火墙关闭4.ping(测试)</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 虚拟化 Windows7x64 笔记 VMware Workstation Pro </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据通信</title>
      <link href="2020/09/30/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1-%E5%AE%9E%E9%AA%8C%E7%AC%94%E8%AE%B0/"/>
      <url>2020/09/30/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1-%E5%AE%9E%E9%AA%8C%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<blockquote><p>小规模局域网建设</p><p>多个局域网互联</p><p>安全的园区网建设</p><p>多个复杂园区网互联建设</p><p>承载骨干网建设</p></blockquote><h2 id="一-小规模局域网建设"><a href="#一-小规模局域网建设" class="headerlink" title="一.小规模局域网建设"></a>一.小规模局域网建设</h2><h3 id="实验一-二层交换机"><a href="#实验一-二层交换机" class="headerlink" title="实验一 二层交换机"></a>实验一 二层交换机</h3><pre><code class="tiki">实现两个交换机之间的通信关键的是给两个交换机开通vlan,配置vlan的接口为主机的后一位</code></pre><pre><code class="bash">配置交换机 （左）Switch&gt;en    进入特权模式Switch#conf t    进入配置模式Switch(config)#vlan 10    创建vlan 10Switch(config-vlan)#exit Switch(config)#vlan 20    创建vlan 20Switch(config-vlan)#exitSwitch(config)#inter fa 0/5  开通vlan 10 和vlan 20Switch(config-if)#switchport mode trunk       封装    使用trunk模型Switch(config-if)#switchport trunk allowed vlan 10,20Switch(config-if)#exitSwitch(config)#inter fa 0/1   配置host1Switch(config-if)#switchport mode access   使用access模型Switch(config-if)#switchport access vlan 10Switch(config-if)#exitSwitch(config)#inter fa 0/2   配置host2Switch(config-if)#switchport mode access Switch(config-if)#switchport access vlan 20Switch(config-if)#exitSwitch(config)#inter fa 0/3   配置host3Switch(config-if)#switchport mode access Switch(config-if)#switchport access vlan 10Switch(config-if)#exitSwitch(config)#inter fa 0/4   配置host4Switch(config-if)#switchport mode access Switch(config-if)#switchport access vlan 20Switch(config-if)#exit配置交换机（右）Switch&gt;enSwitch#conf tSwitch(config)#vlan 10Switch(config-vlan)#exitSwitch(config)#vlan 20Switch(config-vlan)#exitSwitch(config)#inter fa 0/3Switch(config-if)#switchport mode trunk Switch(config-if)#switchport trunk allowed vlan 10,20Switch(config-if)#exitSwitch(config)#inter fa 0/1Switch(config-if)#switchport mode access Switch(config-if)#switchport access vlan 10Switch(config-if)#exitSwitch(config)#inter fa 0/1Switch(config-if)#switchport mode access Switch(config-if)#switchport access vlan 20Switch(config-if)#exit</code></pre><p><img src="/2020/09/30/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1-%E5%AE%9E%E9%AA%8C%E7%AC%94%E8%AE%B0/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-30%20164432.png"></p><h3 id="实验二-三层交换"><a href="#实验二-三层交换" class="headerlink" title="实验二  三层交换"></a>实验二  三层交换</h3><pre><code class="tiki">路由可以实现不同网段间主机的通信（网关）</code></pre><pre><code class="bash">Router&gt;en  进入特权模式Router#conf t   进入配置模式Router(config)#interface g 0/0    配置路由接口 0/0  路由的接口是从0开始的Router(config-if)#no shutdown     启动路由Router(config-if)#ip address 192.168.1.254 255.255.255.0   添加网关和子网掩码Router(config-if)#exit            退出Router(config)#inter g 0/1Router(config-if)#no shutdown Router(config-if)#ip address 192.168.2.254 255.255.255.0Router(config-if)#exit</code></pre><p><img src="/2020/09/30/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1-%E5%AE%9E%E9%AA%8C%E7%AC%94%E8%AE%B0/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-30%20155434.png"></p><p>查看的和保存信息的相关命令</p><pre><code class="bash">Router#write  保存     保存后重启服务Router#show vlan   查看vlanRouter#show run    查看当前运行信息Router#show arp    查看arpRouter#show ip route  查看ip route</code></pre><h3 id="实验三-三层交换"><a href="#实验三-三层交换" class="headerlink" title="实验三   三层交换"></a>实验三   三层交换</h3><pre><code class="bash">配置交换机左Switch(config)#vlan 100       创建vlan 100Switch(config-vlan)#exitSwitch(config)#vlan 200       创建vlan 200Switch(config-vlan)#exitSwitch(config)#inter fa 0/3   配置交换机，将vlan 100 和vlan 200 开通Switch(config-if)#switchport mode trunk    封装  使用trunk模型Switch(config-if)#switchport trunk allowed vlan 100,200Switch(config-if)#exitSwitch(config)#inter fa 0/1   配置host1Switch(config-if)#switchport mode access  使用access模型Switch(config-if)#switchport access vlan 100   将host1划分到vlan 100Switch(config-if)#exitSwitch(config)#inter fa 0/2   配置host2Switch(config-if)#switchport mode access Switch(config-if)#switchport access vlan 200   将host2划分到vlan 200Switch(config-if)#exit配置交换机右Switch(config)#vlan 100Switch(config-vlan)#exitSwitch(config)#vlan 200Switch(config-vlan)#exitSwitch(config)#inter fastEthernet 0/3Switch(config-if)#switchport mode trunk Switch(config-if)#switchport trunk allowed vlan 100,200Switch(config-if)#exitSwitch(config)#inter fa 0/1Switch(config-if)#switchport mode access Switch(config-if)#switchport access vlan 100Switch(config-if)#exitSwitch(config)#inter fa 0/2Switch(config-if)#switchport mode access Switch(config-if)#switchport access vlan 200Switch(config-if)#exit配置路由交换机Switch(config)#vlan 100     创建vlan 100Switch(config-vlan)#exitSwitch(config)#vlan 200     创建vlan 200Switch(config-vlan)#exitSwitch(config)#inter fa 0/3  配置路由交换机Switch(config-if)#switchport trunk encapsulation dot1q  封装   由于路由交换机的限制，不能直接使用trunk,需先开通 Switch(config-if)#switchport mode trunk      Switch(config-if)#switchport trunk allowed vlan 100,200Switch(config-if)#exitSwitch(config)#inter vlan 100         在三层路由中采用虚拟vlan 配置（注意这里进入到“配置模式“进行配置）Switch(config-if)#ip address 192.168.1.254 255.255.255.0   添加网关和子网掩码Switch(config-if)#exitSwitch(config)#ip routing   启动路由（配置模式）Switch(config)#inter vlan 200Switch(config-if)#ip address 192.168.2.254 255.255.255.0Switch(config-if)#exitSwitch(config)#ip routing</code></pre><p><img src="/2020/09/30/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1-%E5%AE%9E%E9%AA%8C%E7%AC%94%E8%AE%B0/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-10-14%20190423.png"></p><h3 id="实验四-三层交换机链路聚合"><a href="#实验四-三层交换机链路聚合" class="headerlink" title="实验四 三层交换机链路聚合"></a>实验四 三层交换机链路聚合</h3><pre><code class="tiki">端口聚合概念：端口聚合又称聚合端口，聚合链路，以太通道（EtherChannel）。他是把同一台交换机上多个特性相同的物理端口捆绑在一起，形成一个逻辑的端口。</code></pre><pre><code class="bash">***********************vlan和路由配置*********************二层交换机（左）Switch&gt;enSwitch#conf tSwitch(config)#vlan 10Switch(config-vlan)#exitSwitch(config)#vlan 20Switch(config-vlan)#exitSwitch(config)#inter f0/3Switch(config-if)#switchport mode trunk Switch(config-if)#switchport trunk allowed vlan 10,20Switch(config-if)#exitSwitch(config)#inter f0/1Switch(config-if)#switchport mode access Switch(config-if)#switchport access vlan 10Switch(config-if)#exitSwitch(config)#inter f0/2Switch(config-if)#switchport mode access Switch(config-if)#switchport access vlan 20Switch(config-if)#exit二层交换机（右）Switch&gt;enSwitch#conf tSwitch(config)#vlan 30Switch(config-vlan)#exitSwitch(config)#vlan 40Switch(config-vlan)#exitSwitch(config)#inter f0/3Switch(config-if)#switchport mode trunk Switch(config-if)#switchport trunk allowed vlan 30,40Switch(config-if)#exitSwitch(config)#inter f0/1Switch(config-if)#switchport mode access Switch(config-if)#switchport access vlan 30Switch(config-if)#exitSwitch(config)#inter f0/2Switch(config-if)#switchport mode access Switch(config-if)#switchport access vlan 40Switch(config-if)#exit三层交换机Switch&gt;enSwitch#conf tSwitch(config)#vlan 10Switch(config-vlan)#vlan 10Switch(config-vlan)#vlan 20Switch(config-vlan)#vlan 30Switch(config-vlan)#vlan 40Switch(config-vlan)#exitSwitch(config)#inter f0/3Switch(config-if)#switchport trunk encapsulation dot1q Switch(config-if)#switchport mode trunk Switch(config-if)#switchport trunk allowed vlan 10,20,30,40Switch(config-if)#exitSwitch(config)#inter vlan 10Switch(config-if)#ip address 192.168.1.254 255.255.255.0Switch(config-if)#exitSwitch(config)#ip routingSwitch(config)#inter vlan 20Switch(config-if)#ip address 192.168.2.254 255.255.255.0Switch(config-if)#exitSwitch(config)#ip routingSwitch(config)#inter vlan 30Switch(config-if)#ip address 192.168.3.254 255.255.255.0Switch(config-if)#exitSwitch(config)#ip routingSwitch(config)#inter vlan 40Switch(config-if)#ip address 192.18.4.254 255.255.255.0Switch(config-if)#exitSwitch(config)#ip routingSwitch(config)#inter vlan 40Switch(config-if)#ip adSwitch(config-if)#ip address 192.168.4.254 255.255.255.0Switch(config-if)#exit********************链路聚合端口配置*************************二层交换机配置与其三层交换机相连的端口二层交换机（左）Switch&gt;enSwitch#conf tSwitch(config)#inter port-channel 1             创建聚合端口Switch(config-if)#exitSwitch(config)#inter f0/3                       将物理端口f0/3加入到端口中，端口模型的选择可以用‘?’来查看并选择Switch(config-if)#channel-group 1 mode onSwitch(config-if)#exitSwitch(config)#inter f0/4                       将物理端口f0/3加入到端口中，端口模型的选择可以用‘?’来查看并选择Switch(config-if)#channel-group 1 mode onSwitch(config)#inter port-channel 1Switch(config-if)#switchport mode trunk                 封装Switch(config-if)#switchport trunk allowed vlan 10,20   因为左边vlan有10，20，不需要将所有的vlan都加进去Switch(config-if)#exitSwitch#show etherchannel port-channel           查看接口状态Switch#show etherchannel summary                查看详细信息二层交换机（右）Switch&gt;enSwitch#conf tSwitch(config)#inter port-channel 1Switch(config-if)#exitSwitch(config)#inter f0/3Switch(config-if)#channel-group 1 mode onSwitch(config-if)#exitSwitch(config)#inter f0/4Switch(config-if)#channel-group 1 mode onSwitch(config)#inter port-channel 1Switch(config-if)#switchport mode trunk Switch(config-if)#switchport trunk allowed vlan 30,40Switch(config-if)#exitSwitch#show etherchannel port-channel Switch#show etherchannel summary 三层交换机（因为有两个交换机，所以需配置两个链路聚合接口）三层交换机配置主机Switch&gt;enSwitch#conf tSwitch(config)#interface port-channel 1            创建聚合端口1Switch(config-if)#exitSwitch(config)#inter f0/1                    Switch(config-if)#channel-group 1 mode onSwitch(config-if)#exitSwitch(config)#inter f0/2Switch(config-if)#channel-group 1 mode onSwitch(config-if)#exitSwitch(config)#inter port-channel 1Switch(config-if)#switchport trunk encapsulation dot1q   封装Switch(config-if)#switchport mode trunk Switch(config-if)#switchport trunk allowed vlan 10,20Switch(config)#inter port-channel 2                创建聚合端口2Switch(config-if)#exitSwitch(config)#inter f0/1Switch(config-if)#channel-group 2 mode onSwitch(config-if)#exitSwitch(config)#inter f0/2Switch(config-if)#channel-group 2 mode onSwitch(config-if)#exitSwitch(config)#inter port-channel 2Switch(config-if)#switchport trunk encapsulation dot1q  封装Switch(config-if)#switchport mode trunk Switch(config-if)#switchport trunk allowed vlan 30,40Switch(config-if)#exitSwitch(config)#endSwitch#show etherchannel port-channel Switch#show etherchannel summary 三层交换机聚合接口号与二层交换机的聚合端口号无关#注意：在查看主机间是否ping通之前，先在二层交换机和三层交换机上查看端口是否配置正确，这样可以预先排除错误no shut  #开启端口，需进入对应的端口</code></pre><p><img src="/2020/09/30/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1-%E5%AE%9E%E9%AA%8C%E7%AC%94%E8%AE%B0/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-10-16%20124100.png"></p><p><img src="/2020/09/30/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1-%E5%AE%9E%E9%AA%8C%E7%AC%94%E8%AE%B0/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-10-16%20124135.png"></p><p><img src="/2020/09/30/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1-%E5%AE%9E%E9%AA%8C%E7%AC%94%E8%AE%B0/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-10-16%20124157.png"></p><pre><code class="tiki">这里只需有P就表示配置成功</code></pre><p><img src="/2020/09/30/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1-%E5%AE%9E%E9%AA%8C%E7%AC%94%E8%AE%B0/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-10-16%20124306.png"></p><h3 id="实验五-单臂路由"><a href="#实验五-单臂路由" class="headerlink" title="实验五 单臂路由"></a>实验五 单臂路由</h3><pre><code class="bash">交换机Switch&gt;enSwitch#conf tSwitch(config)#vlan 10Switch(config-vlan)#exitSwitch(config)#vlan 10Switch(config-vlan)#vlan 20Switch(config-vlan)#exitSwitch(config)#inter f0/3Switch(config-if)#switchport mode trunk Switch(config-if)#switchport trunk allowed vlan 10,20Switch(config-if)#exitSwitch(config)#inter f0/1Switch(config-if)#switchport mode access Switch(config-if)#switchport access vlan 10Switch(config-if)#exitSwitch(config)#inter f0/2Switch(config-if)#switchport mode access Switch(config-if)#switchport access vlan 20Switch(config-if)#exit路由Switch&gt;enSwitch#conf tRouter(config)#inter f0/0       开启f0/0的路由，因为这里只有一个端口，所以只需配置一个，路由是从0开始的Router(config-if)#no shutdown   开启Router(config-if)#exitRouter(config)#inter f0/0.1     配置f0/0端口下的子端口f0/0.1Router(config-subif)#encapsulation dot1Q 10       封装  因为f0/0.1是vlan 10Router(config-subif)#ip address 192.168.1.254 255.255.255.0Router(config-subif)#exitRouter(config)#inter f0/0.2      配置f0/0端口下的子端口f0/0.2Router(config-subif)#encapsulation dot1Q 20       封装  因为f0/0.2是vlan 20Router(config-subif)#ip address 192.168.2.254 255.255.255.0Router(config-subif)#exit</code></pre><p><img src="/2020/09/30/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1-%E5%AE%9E%E9%AA%8C%E7%AC%94%E8%AE%B0/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-10-16%20161621.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> 组网 实验 笔记 Cisco Packet Tracer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Zookeeper+Hadoop+Hbase整合平台搭建（伪分布模式）</title>
      <link href="2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/"/>
      <url>2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<blockquote><p>JDK的卸载与安装</p><p>Zookeeper的安装</p><p>Hadoop的安装</p><p>Hbase的安装</p></blockquote><h3 id="伪分布式平台架构"><a href="#伪分布式平台架构" class="headerlink" title="伪分布式平台架构"></a>伪分布式平台架构</h3><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/IMG_20200925_163341.jpg"></p><p>首先我们需要下载搭建平台所需要的资源包并放入指定文件目录下，这里博主将包放入了根目录下的software文件中。</p><p>资源获取地址：<a href="https://pan.baidu.com/s/1EW8t5szEkG-1Uk6iqeRQbQ">https://pan.baidu.com/s/1EW8t5szEkG-1Uk6iqeRQbQ</a>    提取码：2a3c</p><p>通过xftp 6 将资源包传输到  /software  目录下</p><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-25%20152213.png"></p><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-25%20152233.png"></p><p>我们可以在CentOS系统里查看传输好的文件</p><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-25%20180819.png"></p><h3 id="一-JDK的卸载与安装"><a href="#一-JDK的卸载与安装" class="headerlink" title="一.JDK的卸载与安装"></a>一.JDK的卸载与安装</h3><p>从普通用户进入root 用户，在root用户卸载java（为了方便起见，博主将用户名设为hadoop,请不要与下面的hadoop用户混淆)</p><pre><code class="bash">[hadoop@promote~]$su - root</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-25%20165058.png"></p><ul><li>卸载jdk</li></ul><pre><code class="bash">[root@promote ~]#rpm -qa|grep jdk      查看jdk包[root@promote ~]#rpm -qa|grep java     查看java包[root@promote ~]#rpm -e java-XXXX      用rpm命令删除包[root@promote ~]#yum remove java-XXXX  用yum命令删包，有些包会报“依赖项错误”，这时用yum就可以解决问题</code></pre><p>首先查看系统中的jdk包,发现有4个压缩包，我们要做的就是将它们删除</p><pre><code class="bash">[root@promote ~]#rpm -qa|grep jdk</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-25%20155453.png"></p><p>删除jdk包，rpm  -e + 包名，最好是一个一个删除，不要用  rpm -e *  或   yum remove *   一次性将包删除，一次性删除可能会导致后面坏境的搭建出错</p><p>用   rpm -e + 包名，发现报错，此时用yum remove + 包名（推荐）</p><pre><code class="bash">[root@promote ~]#yum remove java-XXXX</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-25%20155642.png"> </p><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-25%20155806.png"></p><p>​         删除完后，用   rpm -qa|grep jdk 会发现输出为空，说明jdk压缩包已删除</p><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-25%20160025.png"></p><p>​          重复上述步骤删除java包</p><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-25%20160053.png"></p><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-25%20160232.png"></p><ul><li>安装jdk</li></ul><p>卸载完jdk和java后，我们在root用户下新建java目录,并进入java目录</p><pre><code class="bash">[root@promote ~]#mkdir /java[root@promote ~]#cd /java</code></pre><p>我们可以查看传到/software目录下压缩包</p><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-25%20161935.png"></p><p>接下来就是解压software目录下的  jdk-8u201-linux-x64.tar.gz</p><pre><code class="bash">[root@promote java]#tar -zxf /software/jdk-8u201-linux-x64.tar.gz</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-25%20162002.png"></p><ul><li>修改java坏境变量</li></ul><p>进入hadoop用户，如果诸位系统中没有hadoop用户，可以新建一个hadoop用户,用 useradd hadoop,这样的好处就是当我们需要进行hadoop相关操作时就可以进入该用户，不需要再找了，同时也避免将其框架弄坏。</p><pre><code class="bash">[root@promote java]#su - hadoop</code></pre><p>打开  .bash_profile 配置文件，添加java环境变量</p><pre><code class="bash">vi .bash_profile</code></pre><pre><code class="tiki">#Java environmentJAVA_HOME=/java/jdk1.8.0_201PATH=$JAVA_HOME/bin:$PATHexport JAVA_HOME CLASSPATH PATH</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-25%20161157.png"></p><p>source 文件</p><pre><code class="bash">[hadoop@promote ~]$source .bash_profile</code></pre><p>输入java -version,如果出现图片中的信息，说明配置成功。否则删除root下的java文件，重新进行配置</p><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-25%20162112.png"></p><h3 id="二-Zookeeper的安装"><a href="#二-Zookeeper的安装" class="headerlink" title="二.Zookeeper的安装"></a>二.Zookeeper的安装</h3><ul><li>zookeeper软件包解压</li></ul><p>从hadoop用户退出，进入root用户</p><pre><code class="bash">[root@promote ~]#su - root</code></pre><p>在根目录下创建zookeeper目录</p><pre><code class="bash">[root@promote ~]#mkdir /zookeeper[root@promote ~]#cd /</code></pre><p>将zookeeper的权限变更给hadoop</p><pre><code class="bash">[root@promote /]#chown hadoop /zookeeper</code></pre><p>进入hadoop用户并切换到zookeeper目录</p><pre><code class="bash">[root@promote /]#su - hadoop[hadoop@promote ~]$cd /zookeeper</code></pre><p>在当前目录下解压缩zookeeper包</p><pre><code class="bash">[hadoop@promote zookeeper]$tar -zxf /software/zookeeper-3.4.13.tar.gz</code></pre><ul><li>zookeeper坏境变量设定</li></ul><p>配置zookeeper的环境变量，将下面的变量添加进去</p><p>“~”表示用户主目录</p><pre><code class="bash">[hadoop@promote zookeeper]$vi ~/.bash_profile     进入.bash_profile</code></pre><pre><code class="bash">#zookeeper environmentZOOKEEPER_HOME=/zookeeper/zookeeper-3.4.13PATH=$ZOOKEEPER_HOME/bin:$PATHexport ZOOKEEPER_HOME PATH</code></pre><p>source 文件</p><pre><code class="bash">[hadoop@promote zookeeper]$source ~/.bash_profile</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-27%20164219.png"></p><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-27%20161754.png"></p><p>验证坏境变量是否配置成功</p><pre><code class="bash">[hadoop@promote zookeeper]$echo $PATH</code></pre><ul><li>zookeeper伪分布模式参数配置</li></ul><p>创建3个data和logs目录</p><pre><code class="bash">[hadoop@promote zookeeper]$mkdir -p zookeeper1/data[hadoop@promote zookeeper]$mkdir -p zookeeper2/data[hadoop@promote zookeeper]$mkdir -p zookeeper3/data[hadoop@promote zookeeper]$mkdir -p zookeeper1/logs[hadoop@promote zookeeper]$mkdir -p zookeeper2/logs [hadoop@promote zookeeper]$mkdir -p zookeeper3/logs</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-27%20164412.png"></p><p>在3个data目录里创建myid文件</p><pre><code class="bash">[hadoop@promote zookeeper]$echo &#39;1&#39; &gt; zookeeper1/data/myid[hadoop@promote zookeeper]$echo &#39;2&#39; &gt; zookeeper2/data/myid[hadoop@promote zookeeper]$echo &#39;3&#39; &gt; zookeeper3/data/myid</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-27%20164436.png"></p><p>查看myid里的id是否一一对应</p><pre><code class="bash">[hadoop@promote zookeeper]$cat zookeeper1/data/myid[hadoop@promote zookeeper]$cat zookeeper2/data/myid[hadoop@promote zookeeper]$cat zookeeper3/data/myid</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-27%20164536.png"></p><p>进入zookeeper-3.4.13conf目录</p><pre><code class="bash">[hadoop@promote zookeeper]$cd /zookeeper/zookeeper-3.4.13/conf</code></pre><p>用zoo_sample.cfg去生成zoo1.cfg的congfig文件，然后对zoo1.cfg文件进行修改与添加</p><pre><code class="bash">[hadoop@promote conf]$cp zoo_sample.cfg zoo1.cfg   复制[hadoop@promote conf]$vi zoo1.cfg    进入文件</code></pre><p>将文件中的dataDir和clientPort两个参数注释掉，因为它们会影响后面的配置，同时将变量添加进去</p><pre><code class="bash">dataDir=/zookeeper/zookeeper1/datadataLogDir=/zookeeper/zookeeper1/logsclientPort=2181server.1=localhost:2888:3888server.2=localhost:2889:3889server.3=localhost:2890:3890</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-27%20173242.png"></p><p>复制zoo1.cfg生成zoo2.cfg zoo3.cfg</p><pre><code class="bash">[hadoop@promote conf]$cp zoo1.cfg zoo2.cfg[hadoop@promote conf]$cp zoo1.cfg zoo3.cfg[hadoop@promote conf]$vi zoo2.cfg[hadoop@promote conf]$vi zoo3.cfg</code></pre><p><strong>注意，要修改zoo2.cfg和zoo3.cfg的dataDir、dataLogDir和clientPort中的序号</strong></p><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-27%20183431.png"></p><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-27%20183453.png"></p><p>启动服务</p><pre><code class="bash">[hadoop@promote conf]$zkServer.sh start zoo1.cfg[hadoop@promote conf]$zkServer.sh start zoo2.cfg[hadoop@promote conf]$zkServer.sh start zoo3.cfg</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-27%20173515.png"></p><p>查看工作进程</p><pre><code class="bash">[hadoop@promote conf]$jps</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-27%20173654.png"></p><p>查看工作状态</p><pre><code class="bash">[hadoop@promote conf]$zkServer.sh status zoo1.cfg[hadoop@promote conf]$zkServer.sh status zoo2.cfg[hadoop@promote conf]$zkServer.sh status zoo3.cfg</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-27%20173718.png"></p><p>出现上述的查询结果说明zookeeper已经配置完成</p><h3 id="三-Hadoop的安装"><a href="#三-Hadoop的安装" class="headerlink" title="三.Hadoop的安装"></a>三.Hadoop的安装</h3><ul><li>hadoop 软件包解压</li></ul><p>切换到root的主目录</p><pre><code class="bash">[hadoop@promote conf]$su - root</code></pre><p>在根目录下创建hadoop目录，并将hadoop目录的权限给hadoop用户，然后切换到hadoop用户，进入hadoop目录，同时在当前目录下解压hadoop包</p><pre><code class="bash">[root@promote ~]#mkdir /hadoop[root@promote ~]#cd /[root@promote /]#chown hadoop /hadoop[root@promote /]#su - hadoop[hadoop@promote ~]$cd /hadoop[hadoop@promote hadoop]$tar -zxf /software/hadoop-2.7.7.tar.gz </code></pre><ul><li>hadoop坏境变量设定</li></ul><p>添加hadoop环境变量</p><pre><code class="bash">[hadoop@promote hadoop]$vi ~/.bash_profile</code></pre><pre><code class="bash">#hadoop environmentHADOOP_HOME=/hadoop/hadoop-2.7.7PATH=$HADOOP_HOME/bin:$HADOOP_HOME/sbin:$PATHexport HADOOP_HOME PATH</code></pre><pre><code class="bash">[hadoop@promote hadoop]$source ~/.bash_profile</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-27%20174047.png"></p><p>验证配置是否成功</p><pre><code class="bash">[hadoop@promote hadoop]$echo $PATH</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-27%20174131.png"></p><ul><li>hadoop参数配置</li></ul><p>创建 tmp data name 三个文件目录</p><pre><code class="bash">[hadoop@promote hadoop]$mkdir tmp data name</code></pre><p>配置本机免密码登录</p><pre><code class="bash">[hadoop@promote hadoop]$cd ~[hadoop@promote ~]$ssh-keygen -t rsa   输入三个enter</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-27%20174238.png"></p><pre><code class="bash">[hadoop@promote ~]$cd  .ssh [hadoop@promote .ssh]$cp id_rsa.pub authorized_keys[hadoop@promote .ssh]ls[hadoop@promote .ssh]ssh localhost    输入yes</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-27%20175032.png"></p><p>这时无需密码就可登录localhost</p><ul><li>修改 hadoop-env.sh、core-site.xml、hdfs-site.xml、mapred-site.xml、yarn-env.sh、yarn-site.xml文件</li></ul><p>进入/etc下的hadoop</p><pre><code class="bash">[hadoop@promote .ssh]cd ~[hadoop@promote ~]$cd /hadoop/hadoop-2.7.7/etc/hadoop</code></pre><p>修改hadoop-env.sh和yarn-env.sh</p><p>因为这两个文件是环境变量文件，所以修改前建议先复制</p><p>修改文件的JAVA_HOME</p><pre><code class="bash">[hadoop@promote hadoop]$cp hadoop-env.sh hadoop-env.shark[hadoop@promote hadoop]$vi hadoop-env.sh</code></pre><pre><code class="bash">export JAVA_HOME=/java/jdk1.8.0_201</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-30%20171532.png"></p><pre><code class="bash">[hadoop@promote hadoop]$cp yarn-env.sh  yarn-env.shark[hadoop@promote hadoop]$vi yarn-env.sh</code></pre><pre><code class="bash">export JAVA_HOME=/java/jdk1.8.0_201   这里需去掉注释“#”</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-30%20171751.png"></p><p>修改.xml文件</p><p>修改此类文件，只需将变量添加到<configuration><configuration>之间</configuration></configuration></p><p>修改core-site.xml</p><pre><code class="bash">[hadoop@promote hadoop]$vi core-site.xml </code></pre><pre><code class="tiki">&lt;property&gt;&lt;name&gt;fs.defaultFS&lt;/name&gt;&lt;value&gt;hdfs://localhost:9000&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;hadoop.tmp.dir&lt;/name&gt;&lt;value&gt;/hadoop/tmp&lt;/value&gt;&lt;/property&gt;</code></pre><p>修改hdfs-site.xml</p><pre><code class="bash">[hadoop@promote hadoop]$vi hdfs-site.xml </code></pre><pre><code class="tiki">&lt;property&gt;&lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;&lt;value&gt;/hadoop/name&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;&lt;value&gt;/hadoop/data&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;dfs.replication&lt;/name&gt;&lt;value&gt;1&lt;/value&gt;&lt;/property&gt;</code></pre><p>用mapred-site.xml.template生成.xml文件并进行修改</p><pre><code class="bash">[hadoop@promote hadoop]$cp mapred-site.xml.template mapred-site.xml[hadoop@promote hadoop]$vi mapred-site.xml</code></pre><pre><code class="tiki">&lt;property&gt;&lt;name&gt;mapreduce.framework.name&lt;/name&gt;&lt;value&gt;yarn&lt;/value&gt;&lt;/property&gt;</code></pre><p>修改 yarn-site.xml</p><pre><code class="bash">[hadoop@promote hadoop]$vi yarn-site.xml </code></pre><pre><code class="tiki">&lt;property&gt;&lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;&lt;value&gt;mapreduce_shuffle&lt;/value&gt;&lt;/property&gt;</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-30%20172226.png"></p><ul><li>Hadoop格式化，启动和验证</li></ul><p>格式化</p><pre><code class="bash">[hadoop@promote hadoop]$hadoop namenode -format</code></pre><p>这里要找到status,如果status=0，则说明前面的配置成功，如果status非零，则前面存在错误。博主格式化时出现status=1的情况。遇到错误不要害怕，我们要学会查看信息。博主通过查看上面的错误日志，发现hdfs文件中<value>缺少“/”，于是将其补上就可以了</value></p><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-30%20173503.png"></p><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-30%20174131.png"></p><p>启动</p><p>启动dfs和yarn</p><pre><code class="bash">[hadoop@promote hadoop]$start-dfs.sh[hadoop@promote hadoop]$start-yarn.sh</code></pre><p>jps查看工作进程，如果出现以下6个进程则说明配置对了，如果少一个或多个，则前面的配置出错。如果缺少namenode、datanode，应该是hdfs文件错误，如果缺少ResourceManager应该是yarn.site.xml文件错误。修改前需将dfs和yarn停掉,运行时再启动。如果前面的6个配置文件都没有错误，然后启动dfs和yarn,查看jps依然没有变化，可以将 /hadoop目录下的data、name文件删除，重新格式化</p><pre><code class="bash">[hadoop@promote hadoop]$jps</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-30%20183129.png"></p><p>验证</p><pre><code class="bash">[hadoop@promote hadoop]$ hadoop fs -mkdir /test[hadoop@promote hadoop]$ hadoop fs -ls /[hadoop@promote hadoop]$ cd /hadoop/hadoop-2.7.7/share/hadoop/mapreduce[hadoop@promote mapreduce]$ls</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-30%20175754.png"></p><pre><code class="bash">[hadoop@promote mapreduce]$ hadoop jar hadoop-mapreduce-examples-2.7.7.jar pi 2 1000</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-30%20174721.png"></p><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-30%20174751.png"></p><p>到这里，hadoop就安装完成了。</p><h3 id="四-Hbase的安装"><a href="#四-Hbase的安装" class="headerlink" title="四.Hbase的安装"></a>四.Hbase的安装</h3><p>hbase的安装是基于zookeeper和hadoop的安装，所以在安装前确保zookeeper和hadoop都可以正常启动，切记，zookeeper和hadoop的启动不可以在root用户下启动，否则hbase安装失败</p><p>进入root 用户创建hbase目录，并将权限赋给hadoop</p><pre><code class="bash">[hadoop@promote conf]$su - root[root@promote ~]#mkdir /hbase[root@promote ~]#cd /[root@promote /]#chown hadoop /hbase</code></pre><p>进入hadoop用户，在hbase目录下解压缩资源包</p><pre><code class="bash">[root@promote /]#su - hadoop[hadoop@promote ~]$cd /hbase[hadoop@promote hbase]$ls[hadoop@promote hbase]$tar -zxf /software/hbase-1.2.10-bin.tar.gz </code></pre><p>创建tmp和logs</p><pre><code class="bash">[hadoop@promote hbase]$mkdir tmp logs</code></pre><p>添加hbase环境变量</p><pre><code class="bash">[hadoop@promote hbase]$vi ~/.bash_profile </code></pre><pre><code class="tiki">#hbase environmentHBASE_HOME=/hbase/hbase-1.2.10PATH=$HBASE_HOME/bin:$PATHexport HBASE_HOME</code></pre><p>source 文件</p><pre><code class="bash">[hadoop@promote hbase]$source ~/.bash_profile [hadoop@promote hbase]$echo $PATH   查看hbase环境变量是否添加成功</code></pre><p>修改hbase /conf 目录下的 hbase-env.sh和 hbase-site.xml文件</p><p>修改hbase-env.sh，将下面对应修改的地方添加进去</p><pre><code class="bash">[hadoop@promote hbase]$cd /hbase/hbase-1.2.10/conf/[hadoop@promote conf]$cp hbase-env.sh hbase-env.sh.bak[hadoop@promote conf]$vi hbase-env.sh</code></pre><pre><code class="tiki"># export JAVA_HOME=/usr/java/jdk1.6.0/export JAVA_HOME=/java/jdk1.8.0_201/# export HBASE_CLASSPATH=export HBASE_CLASSPATH=/hadoop/hadoop-2.7.7/etc/hadoop# export HBASE_LOG_DIR=$&#123;HBASE_HOME&#125;/logsexport HBASE_LOG_DIR=/hbase/logs# Tell HBase whether it should manage it&#39;s own instance of Zookeeper or not.export HBASE_MANAGES_ZK=false</code></pre><p>修改hbase-site.xml文件</p><pre><code class="bash">[hadoop@promote conf]$vi hbase-site.xml</code></pre><pre><code class="tiki">&lt;property&gt;&lt;name&gt;hbase.rootdir&lt;/name&gt;&lt;value&gt;hdfs://localhost:9000/user/root/hbase&lt;/value&gt;    注：/user/root可根据自己路径进性修改&lt;/property&gt;                                                 &lt;property&gt;&lt;name&gt;hbase.tmp.dir&lt;/name&gt;&lt;value&gt;/hbase/tmp&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;hbase.cluster.distributed&lt;/name&gt;&lt;value&gt;true&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;hbase.zookeeper.quorum&lt;/name&gt;&lt;value&gt;localhost:2181,localhost:2182,localhost:2183&lt;/value&gt;&lt;/property&gt;</code></pre><p>启动habase</p><pre><code class="bash">[hadoop@promote conf]$start-hbase.sh</code></pre><p>查看进程</p><pre><code class="bash">[hadoop@promote conf]$jps</code></pre><p>如果出现如下进程，则hbase安装正确</p><pre><code class="tiki">9488 NameNode19313 QuorumPeerMain21763 Jps21477 HRegionServer18934 QuorumPeerMain19800 SecondaryNameNode19625 DataNode18987 QuorumPeerMain20107 NodeManager21388 HMaster19998 ResourceManager</code></pre><p>测试</p><pre><code class="bash">[hadoop@promote conf]$ hbase shellhbase(main):001:0&gt; create &#39;table（表名）&#39;,&#39;id&#39;,&#39;name&#39;</code></pre><p><img src="/2020/09/25/Zookeeper-Hadoop-Hbase%E6%95%B4%E5%90%88%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BC%AA%E5%88%86%E5%B8%83%E6%A8%A1%E5%BC%8F%EF%BC%89/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-10-15%20092209.png"></p><p>到这里伪分布式平台搭建完毕！</p>]]></content>
      
      
      
        <tags>
            
            <tag> Zookeeper Hadoop Hbase </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo博客无法插入图片问题的解决</title>
      <link href="2020/09/24/Hexo%E5%8D%9A%E5%AE%A2%E6%97%A0%E6%B3%95%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3/"/>
      <url>2020/09/24/Hexo%E5%8D%9A%E5%AE%A2%E6%97%A0%E6%B3%95%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3/</url>
      
        <content type="html"><![CDATA[<blockquote><p>修改_config.yml配置文件</p><p>Typora偏好设置</p><p>插件安装</p><p>修改hexo-asset-image文件中index.js的内容</p><p>生成博客</p></blockquote><h3 id="一-修改-config-yml配置文件"><a href="#一-修改-config-yml配置文件" class="headerlink" title="一.修改_config.yml配置文件"></a>一.修改_config.yml配置文件</h3><p>以博主的博客为例，博主博客的位置为D:/MyBlogs</p><pre><code class="bash">$ cd d:/MyBlogs    进入博客的根目录$ vi _config.yml   进入配置文件 ,输入i进入插入模式，此时可以改动文件内容，文件中的post_asset_folder 选项设为 true</code></pre><p><img src="/2020/09/24/Hexo%E5%8D%9A%E5%AE%A2%E6%97%A0%E6%B3%95%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-24%20161052.png"></p><p><img src="/2020/09/24/Hexo%E5%8D%9A%E5%AE%A2%E6%97%A0%E6%B3%95%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-24%20161402.png"></p><p>post_asset_folder 的作用：</p><p>​        在git终端创建博客生成.md文件的同时，生成与其文件名相同的文件夹，该文件夹用来存放该篇博文的图片等资料</p><p><img src="/2020/09/24/Hexo%E5%8D%9A%E5%AE%A2%E6%97%A0%E6%B3%95%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-24%20162129.png"></p><p><img src="/2020/09/24/Hexo%E5%8D%9A%E5%AE%A2%E6%97%A0%E6%B3%95%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-24%20162150.png"></p><h3 id="二-Typora偏好设置"><a href="#二-Typora偏好设置" class="headerlink" title="二.Typora偏好设置"></a>二.Typora偏好设置</h3><p>打开Typora—&gt;文件—&gt;偏好设置—&gt;图像—&gt;复制到指定路径—&gt;./${filename}</p><p><img src="/2020/09/24/Hexo%E5%8D%9A%E5%AE%A2%E6%97%A0%E6%B3%95%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-24%20163057.png"></p><p><img src="/2020/09/24/Hexo%E5%8D%9A%E5%AE%A2%E6%97%A0%E6%B3%95%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-24%20163143.png"></p><p>作用：可以使得从网上copy一张图片粘贴进来时就可以自动保存到与md文件同名的文件夹里</p><h3 id="三-插件安装"><a href="#三-插件安装" class="headerlink" title="三.插件安装"></a>三.插件安装</h3><pre><code class="bash">$ npm install https://github.com/CodeFalling/hexo-asset-image --save</code></pre><p>​         作用:实现md文件到html文件的转换，经hexo  g 重新生成后，会在public/日期/文件名的目录下生成index.html和图片文件</p><p><img src="/2020/09/24/Hexo%E5%8D%9A%E5%AE%A2%E6%97%A0%E6%B3%95%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-24%20162325.png"></p><h3 id="四-修改hexo-asset-image文件中index-js的内容"><a href="#四-修改hexo-asset-image文件中index-js的内容" class="headerlink" title="四.修改hexo-asset-image文件中index.js的内容"></a>四.修改hexo-asset-image文件中index.js的内容</h3><p>index.js文件在node_modules文件夹下，可以用notepad++打开</p><p><img src="/2020/09/24/Hexo%E5%8D%9A%E5%AE%A2%E6%97%A0%E6%B3%95%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-24%20164402.png"></p><p>将js中的代码替换成下面的代码</p><pre><code class="json">&#39;use strict&#39;;var cheerio = require(&#39;cheerio&#39;);// http://stackoverflow.com/questions/14480345/how-to-get-the-nth-occurrence-in-a-stringfunction getPosition(str, m, i) &#123;  return str.split(m, i).join(m).length;&#125;var version = String(hexo.version).split(&#39;.&#39;);hexo.extend.filter.register(&#39;after_post_render&#39;, function(data)&#123;  var config = hexo.config;  if(config.post_asset_folder)&#123;        var link = data.permalink;    if(version.length &gt; 0 &amp;&amp; Number(version[0]) == 3)       var beginPos = getPosition(link, &#39;/&#39;, 1) + 1;    else       var beginPos = getPosition(link, &#39;/&#39;, 3) + 1;    // In hexo 3.1.1, the permalink of &quot;about&quot; page is like &quot;.../about/index.html&quot;.    var endPos = link.lastIndexOf(&#39;/&#39;) + 1;    link = link.substring(beginPos, endPos);    var toprocess = [&#39;excerpt&#39;, &#39;more&#39;, &#39;content&#39;];    for(var i = 0; i &lt; toprocess.length; i++)&#123;      var key = toprocess[i];      var $ = cheerio.load(data[key], &#123;        ignoreWhitespace: false,        xmlMode: false,        lowerCaseTags: false,        decodeEntities: false      &#125;);      $(&#39;img&#39;).each(function()&#123;        if ($(this).attr(&#39;src&#39;))&#123;            // For windows style path, we replace &#39;\&#39; to &#39;/&#39;.            var src = $(this).attr(&#39;src&#39;).replace(&#39;\\&#39;, &#39;/&#39;);            if(!/http[s]*.*|\/\/.*/.test(src) &amp;&amp;               !/^\s*\//.test(src)) &#123;              // For &quot;about&quot; page, the first part of &quot;src&quot; can&#39;t be removed.              // In addition, to support multi-level local directory.              var linkArray = link.split(&#39;/&#39;).filter(function(elem)&#123;                return elem != &#39;&#39;;              &#125;);              var srcArray = src.split(&#39;/&#39;).filter(function(elem)&#123;                return elem != &#39;&#39; &amp;&amp; elem != &#39;.&#39;;              &#125;);              if(srcArray.length &gt; 1)                srcArray.shift();              src = srcArray.join(&#39;/&#39;);              $(this).attr(&#39;src&#39;, config.root + link + src);              console.info&amp;&amp;console.info(&quot;update link as:--&gt;&quot;+config.root + link + src);            &#125;        &#125;else&#123;            console.info&amp;&amp;console.info(&quot;no src attr, skipped...&quot;);            console.info&amp;&amp;console.info($(this));        &#125;      &#125;);      data[key] = $.html();    &#125;  &#125;&#125;);</code></pre><h3 id="五-生成博客"><a href="#五-生成博客" class="headerlink" title="五.生成博客"></a>五.生成博客</h3><pre><code class="bash">$ hexo clean$ hexo g$ hexo s     预览  Ctrl+C可取消$ hexo d     放到github上</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> hexo 图片插入 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows10基于github的Hexo博客搭建及主题配置</title>
      <link href="2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/"/>
      <url>2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<blockquote><p>nodejs和git安装</p><p>hexo博客搭建</p><p>将博客同步到github上</p><p>博客主题设置（以安装snark为例）</p><p>主题优化</p></blockquote><ul><li>小记：最近发现之前搭好的博客打不开了，花了好些时间解决bug,但是上网查了很多的博客依然没有解决，因此决定重新从零开始，借此机会将搭建过程写到博客里，以下为搭建hexo博客及设置主题的步骤与过程。</li></ul><h3 id="一-安装nodejs和git"><a href="#一-安装nodejs和git" class="headerlink" title="一.安装nodejs和git"></a>一.安装nodejs和git</h3><ul><li><p>git 下载: <a href="https://git-scm.com/">https://git-scm.com/</a></p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20214044.png"></p></li><li><p>下载好后，右击鼠标就会出现git的标志，这就表明git已经安装好</p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20214337.png"></p></li><li><p>nodejs下载 :<a href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a></p><p>(博主是windows系统，根据自己电脑系统进行选择)</p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20214653.png"></p></li><li><p>下载后双击node.exe安装即可</p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20214956.png"></p></li><li><p>在git终端查看node、npm和git版本以此来判断git和nodejs是否安装成功，如下图可知，git和nodejs安装成功</p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20175651.png"></p></li></ul><h3 id="二-hexo博客搭建"><a href="#二-hexo博客搭建" class="headerlink" title="二.hexo博客搭建"></a>二.hexo博客搭建</h3><ul><li><p>创建一个放置自己博客的文件夹（例如：Myblogs,这个目录就是博客的根目录），在Myblogs文件夹中右击鼠标，从中找到<strong>Git Bash Here</strong>选项，打开 git 窗口</p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20215308.png"></p></li><li><p>安装hexo（时间可能很长，耐心等待~）</p><pre><code class="bash">$ npm i -g hexo-cli    使用全局安装</code></pre><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20175807.png"></p><pre><code class="bash">$ hexo init   初始化</code></pre><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20180032.png"></p><pre><code class="bash">$ hexo g   生成博客目录文件</code></pre><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20180101.png"></p><pre><code class="bash">$ hexo s   开启本地服务  Ctrl+C可取消预览</code></pre><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-24%20165724.png"></p></li></ul><ul><li><p>在浏览中打开” <a href="http://localhost:4000&quot;，可以看到博客已经在本地安装好">http://localhost:4000&quot;，可以看到博客已经在本地安装好</a></p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20190049.png"></p></li></ul><h3 id="三-将博客同步到github上"><a href="#三-将博客同步到github上" class="headerlink" title="三.将博客同步到github上"></a>三.将博客同步到github上</h3><ul><li><p>配置userName和email </p><pre><code class="bash">$ git config --global user.name&quot;userName&quot;    userName 是github的用户名$ git config --global user.email&quot;yourEmail&quot;  email是github的邮箱</code></pre><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20182111.png"></p></li><li><p>生成密钥</p><pre><code class="bash">$ cd ~/.ssh      查看是否有.shh文件夹$ ssh-keygen -t rsa -C &quot;yourEmail&quot;    连续输入三个回车，生成密钥（密钥的存放路径是：C:\Users\Administrator.ssh） </code></pre><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20182801.png"></p><pre><code class="bash">$ eval &quot;$(ssh-agent -s)&quot;     添加密钥到ssh-agent$ ssh-add ~/.ssh/id_rsa      添加生成的SSH key到ssh-agent</code></pre></li><li><p>创建仓库</p><p>新建一个仓库，仓库名为：<strong>username.github.io.git</strong>（例如，你的用户名为test，那么就是test.github.io.git）、选择public即可，勾选创建README</p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20183119.png"></p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20183300.png"></p></li><li><p>生成密钥</p><p>点击右上角头像—&gt;setting —&gt; SSH and GPG keys —&gt; SSH keys,新建一个SSH key 将 C:\Users\Administrator.ssh 下的 id_rsa.pub文件里的内容复制上去(<strong>注：.pub文件用windows自带的软件无法打开，可以用notepad++打开</strong> )</p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20183337.png"></p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20183523.png"></p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20184009.png"></p><pre><code class="bash">$ ssh -T git@github.com  #测试添加ssh是否成功。如果看到Hi后面是你的用户名，就说明成功了</code></pre><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20185217.png"></p></li><li><p>安装hexo部署工具</p><pre><code class="bash">$ npm i hexo-deployer-git --save#修改站点配置文件_config.yml（在你搭建博客的文件夹中找到_config.yml文件，修改deploy（在末尾））$ vi _config.yml    进入vim编辑器,i--进入插入模式，此时方可改动文件，移动时可通过鼠标或上下键，退出时用 先按Esc,再输入  :wq   保存退出</code></pre><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20185655.png"></p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20185809.png"></p></li><li><p>将本地的博客上传到github上</p><pre><code class="bash">$ cd D:/MyBlogs   进入博客根目录$ hexo g   生成文件$ hexo s   打开本地服务器，在本地预览效果$ hexo d   将博客上传到github上（可能需要等几分钟才能够在网页上看到更新后的效果）</code></pre></li><li><p><strong>可能会出Deployer not found :git,此时输入如下命令即可解决</strong></p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20190131.png"></p><pre><code class="bash">$ npm install hexo-deployer-git --save</code></pre><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20191121.png"></p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20191139.png"></p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20191208.png"></p></li><li><p>此时可以看到github上生成了多个文件</p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20235630.png"></p></li><li><p>浏览器中输入username.github.io就可以浏览，如博主的 sourcex99.github.io</p></li><li><p>至此，hexo博客的搭建以及关联github已经完成，接下来进行主题的设置</p></li></ul><h3 id="四-博客主题设置（以安装snark为例）"><a href="#四-博客主题设置（以安装snark为例）" class="headerlink" title="四.博客主题设置（以安装snark为例）"></a>四.博客主题设置（<strong>以安装snark为例</strong>）</h3><ul><li><p>找到你想要的主题  网址：<a href="https://hexo.io/themes/">https://hexo.io/themes/</a>    或 github上搜 hexo-themes</p></li><li><p>找到到主题后，进入主题项目所在的地址 ：<a href="https://github.com/Litreily/hexo-theme-snark">https://github.com/Litreily/hexo-theme-snark</a>，根据README.md进行安装</p></li><li><p>切换到博客的根目录 cd D:/MyBlogs</p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-24%20001720.png"></p></li><li><p>Installation</p><pre><code class="bash">#查看主题的路径，snark是https://github.com/litreily/hexo-theme-snark.git themes/snark,这里已经显示themes了，#所以直接在根目录(如：D：/MyBlogs)里安装，如果没有这个，要切换到themes中进行安装 (cd /themes)$ git clone https://github.com/litreily/hexo-theme-snark.git themes/snark$ npm install hexo-renderer-pug --save$ npm install hexo-renderer-sass --save</code></pre><pre><code class="bash">#修改highlight$ cd D:/MyBlogs      进入博客根目录$ vi _config.yml     进入vim编辑器,找到highlight进行如下修改</code></pre><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20194115.png"></p></li><li><p>修改博客名字、作者、theme(注意，配置文件一定要修改相对应的主题名称，否则博客用的还是默认的主题),修改完了 Esc(进入末行命令)  :wq  （保存后退出）</p><p> <img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-24%20002123.png"></p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-24%20003232.png"></p></li><li><p>添加支持包</p><pre><code class="bash">$ hexo new page archives$ hexo new page categories$ hexo new page tags$ hexo new page about</code></pre></li><li><p>安装插件</p><pre><code class="bash">$ npm install hexo-generator-feed --save      用于RSS$ npm install hexo-generator-search --save    用于local search$ npm install hexo-generator-sitemap --save   用于sitemap</code></pre></li><li><p>生成博客</p><pre><code class="bash">$ hexo clean      清除缓存$ hexo g          生成博客      #一定要先生成$ hexo d          关联仓库</code></pre><p>到这里，博客的主题就设置好了，在此基础上，博主对主题进行了优化</p></li></ul><h3 id="五-主题优化"><a href="#五-主题优化" class="headerlink" title="五.主题优化"></a>五.主题优化</h3><ul><li><p>修改图片 ——在snark文件中找到source下的img,加入你想要的图片，修改图片的名称为：profile.jpg</p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-24%20003842.png"></p></li><li><p>添加live2d </p><p>models 地址：<a href="https://github.com/xiazeyu/live2d-widget-models">https://github.com/xiazeyu/live2d-widget-models</a></p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20200732.png"></p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20200754.png"></p></li><li><p>在<strong>_config.ym</strong>l配置文件中添加如下代码</p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20200834.png"></p></li><li><p>生成博客</p><pre><code class="bash">$ hexo clean$ hexo g$ hexo s  （预览）$ hexo d   放到github上</code></pre></li><li><p>浏览器中输入：userName.github.io （userName为自己github的用户名） ,最终博客如下</p><p><img src="/2020/09/24/Windows10%E5%9F%BA%E4%BA%8Egithub%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8F%8A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202020-09-23%20200917.png"></p></li></ul><p>参考博客:</p><p><a href="https://blog.csdn.net/f2764052703/article/details/86596957?utm_medium=distribute.pc_relevant.none-task-blog-baidujs-4">https://blog.csdn.net/f2764052703/article/details/86596957utm_medium=distribute.pc_relevant.none-task-blog-baidujs-4</a></p><p><a href="https://blog.csdn.net/weixin_41160054/article/details/89473887">https://blog.csdn.net/weixin_41160054/article/details/89473887</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo 博客搭建 主题设置与优化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="2020/09/23/hello-world/"/>
      <url>2020/09/23/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre><code class="bash">$ hexo new &quot;My New Post&quot;</code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre><code class="bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre><code class="bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre><code class="bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
